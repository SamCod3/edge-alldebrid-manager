/* =========================================
   TEMA OSCURO PRO - LAYOUT FLUIDO
   ========================================= */
@import 'css/variables.css';

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--bg-dark);
  color: var(--text-main);
  overflow-y: scroll;
}

/* --- CONTENEDOR FLUIDO --- */
.container {
  width: 90%;
  max-width: 1600px;
  margin: 30px auto;
  background: var(--bg-card);
  border-radius: 8px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  min-height: 80vh;
}

/* --- HEADER --- */
header {
  background: var(--bg-header);
  border-bottom: 1px solid var(--border-color);
  padding: 20px 30px 0 30px;
  /* Padding bottom 0 for tabs */
}

.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

h1 {
  margin: 0;
  font-size: 24px;
  font-weight: 600;
  color: var(--primary-color);
  letter-spacing: -0.5px;
}

.header-actions {
  display: flex;
  gap: 10px;
}

.header-actions button {
  background: var(--border-color);
  color: var(--text-main);
  border: 1px solid var(--btn-hover);
  height: 36px;
  width: 36px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s;
}

.header-actions button:hover {
  background: var(--btn-hover);
  border-color: #555;
}

/* Buscador */
.search-bar-container {
  width: 100%;
  margin-bottom: 15px;
}

.search-input {
  width: 100%;
  padding: 12px 15px;
  background-color: var(--bg-dark);
  border: 1px solid var(--btn-hover);
  border-radius: 6px;
  color: white;
  font-size: 15px;
  outline: none;
  box-sizing: border-box;
  transition: all 0.2s;
}

.search-input:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(230, 126, 34, 0.2);
}

.search-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* --- TABS --- */
.tabs {
  display: flex;
  gap: 2px;
  margin-top: 10px;
}

.tab-item {
  background: transparent;
  border: none;
  border-bottom: 3px solid transparent;
  color: #888;
  font-size: 15px;
  font-weight: 600;
  padding: 10px 20px;
  cursor: pointer;
  transition: all 0.2s;
}

.tab-item:hover {
  color: #ccc;
}

.tab-item.active {
  color: var(--primary-color);
  border-bottom-color: var(--primary-color);
}

/* Indicador de actividad (descargas en curso) */
.tab-item.has-active {
  color: var(--color-info);
  /* Azul para indicar actividad */
}

.tab-item.has-active.active {
  color: var(--primary-color);
  /* Mantiene naranja si está seleccionada */
}

/* Disabled Tab */
.tab-item:disabled,
.tab-item.disabled-tab {
  opacity: 0.5;
  cursor: not-allowed;
  filter: grayscale(100%);
}

.tab-item.has-active::after {
  content: '';
  display: inline-block;
  width: 6px;
  height: 6px;
  background-color: var(--color-danger);
  /* Punto rojo */
  border-radius: 50%;
  margin-left: 8px;
  vertical-align: middle;
  transform: translateY(-1px);
}


/* --- LISTA --- */
.view-section {
  padding: 0;
}

.welcome-bar {
  padding: 15px 30px;
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid #2a2a2a;
  color: #666;
  font-size: 0.9em;
  background: var(--bg-card);
}

.file-list-container {
  list-style: none;
  padding: 0;
  margin: 0;
}

.file-item {
  background: var(--bg-card);
  border-bottom: 1px solid #2a2a2a;
  padding: 20px 30px;
  transition: background 0.1s;
}

.file-item:last-child {
  border-bottom: none;
}

.file-item:hover {
  background: var(--bg-header);
}

/* Grid Principal */
.file-row-main {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 30px;
  align-items: center;
}

.file-info {
  min-width: 0;
}

.file-name {
  font-weight: 600;
  font-size: 16px;
  color: #ecf0f1;
  display: block;
  margin-bottom: 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  cursor: pointer;
  transition: color 0.2s;
  user-select: none;
}

.file-name:hover {
  color: var(--primary-color);
}

.file-name.disabled {
  cursor: default;
  color: #7f8c8d;
}

.file-meta {
  font-size: 13px;
  color: #7f8c8d;
  font-family: monospace;
}

.file-actions {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-left: auto;
  /* Push to right */
  justify-content: flex-end;
  /* Ensure items align to right */
}

.btn-action,
.status-badge {
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}

.status-badge {
  font-size: 12px;
  padding: 0 15px;
  border-radius: 6px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  white-space: nowrap;
}

.status-ready {
  background-color: rgba(46, 204, 113, 0.1);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.btn-action {
  width: 38px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
  color: white;
  border: 1px solid var(--btn-hover);
  background-color: #2c3e50;
  font-size: 16px;
}

.btn-delete:hover {
  background-color: #c0392b;
  border-color: #c0392b;
}

/* --- PROGRESO ACTIVO --- */
.progress-section {
  margin-top: 10px;
}

.progress-header {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: #aaa;
  margin-bottom: 5px;
  font-family: monospace;
}

.progress-track {
  width: 100%;
  height: 6px;
  background: var(--border-color);
  border-radius: 3px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-info), #2980b9);
  border-radius: 3px;
  transition: width 0.3s ease;
}

.progress-stats {
  display: flex;
  gap: 15px;
  margin-top: 8px;
}

.stat-chip {
  font-size: 11px;
  background: #2c3e50;
  padding: 2px 8px;
  border-radius: 4px;
  color: #bdc3c7;
  border: 1px solid #34495e;
  font-family: monospace;
}

/* --- LINKS DESPLEGABLES --- */
.links-box {
  background: #151515;
  border-top: 1px solid var(--border-color);
  /* border-bottom: 1px solid var(--border-color); */
  /* Optional: often just top border is enough if it's at the end or we can keep box style but full width */
  margin-top: 15px;
  margin-left: -30px;
  margin-right: -30px;
  border-radius: 0;
  border-left: none;
  border-right: none;
  overflow: hidden;
  /* important for animation */
  animation: fadeIn 0.2s ease-out;
}

.links-loading {
  padding: 20px;
  text-align: center;
  color: var(--color-warning);
  font-style: italic;
  font-size: 0.9em;
}

.link-row {
  display: flex;
  align-items: center;
  padding: 12px 30px;
  /* Matched to .file-item padding */
  border-bottom: 1px solid var(--bg-header);
  font-size: 14px;
}

.link-row:last-child {
  border-bottom: none;
}

.link-row:hover {
  background-color: #202020;
}

.link-filename {
  flex-grow: 1;
  min-width: 0;
  margin-right: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

.link-filename a {
  color: #ccc;
  text-decoration: none;
  display: block;
}

.link-filename a:hover {
  color: var(--primary-color);
}

.link-actions {
  display: flex;
  align-items: center;
  gap: 12px;
  /* Matched to .file-actions gap */
}

.link-meta {
  font-size: 0.85em;
  color: #666;
  white-space: nowrap;
  font-family: monospace;
}

/* BOTÓN COPIAR ENLACE */
.btn-copy {
  background: transparent;
  border: 1px solid var(--btn-hover);
  color: #aaa;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 14px;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-copy:hover {
  border-color: var(--primary-color);
  color: var(--primary-color);
}

/* Destacado Video */
.is-video {
  background-color: rgba(46, 204, 113, 0.05);
}

.is-video .link-filename a {
  color: var(--color-success);
  font-weight: 600;
}

.is-video:hover {
  background-color: rgba(46, 204, 113, 0.1);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* --- CONFIG REDESIGN --- */
.config-container-fluid {
  padding: 30px;
}


.config-header {
  margin-bottom: 25px;
  display: flex;
  align-items: center;
  gap: 15px;
}

.back-btn {
  background: none;
  border: none;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
  padding: 8px 12px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.05);
  transition: all 0.2s;
}

.back-btn:hover {
  background: rgba(255, 255, 255, 0.15);
}

.config-header h2 {
  color: #fff;
  margin: 0;
  font-size: 22px;
}

/* Status Indicator */
.status-indicator {
  font-size: 0.8em;
  margin-left: 10px;
  cursor: help;
  vertical-align: middle;
}

.config-header .subtitle {
  color: #888;
  margin: 0;
  font-size: 14px;
}

/* Isolation: Hide header elements when config is active */
body.config-active .tabs,
body.config-active .search-bar-container,
body.config-active .header-actions {
  display: none !important;
}

body.config-active header {
  border-bottom: none;
  padding-bottom: 0;
}

.config-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
}

@media (min-width: 800px) {
  .config-grid {
    grid-template-columns: 350px 1fr;
  }
}

/* Cards Generales */
.config-card {
  background: var(--bg-header);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 20px;
}

/* Manual Login Card */
.login-card h3 {
  margin-top: 0;
  color: var(--primary-color);
  font-size: 16px;
  margin-bottom: 10px;
}

.login-card .desc {
  color: #aaa;
  font-size: 13px;
  margin-bottom: 15px;
}

.login-card .alert {
  font-size: 12px;
  color: #aaa;
  margin-top: 20px;
}

.input-group {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
}

.input-group input {
  margin: 0;
  flex-grow: 1;
  min-width: 0;
}

.input-group button {
  width: auto;
  padding: 0 15px;
}

/* Keys Card */
.keys-card {
  display: flex;
  flex-direction: column;
}

.card-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.card-head h3 {
  margin: 0;
  font-size: 16px;
  color: #fff;
}

.icon-btn {
  cursor: pointer;
  font-size: 18px;
  padding: 4px;
  border-radius: 4px;
  transition: background 0.2s;
}

.icon-btn:hover {
  background: var(--border-color);
}

.login-alert a {
  color: var(--color-danger);
  text-decoration: none;
  font-weight: bold;
}

.login-alert a:hover {
  text-decoration: underline;
}

/* KEYS GRID */
.keys-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 15px;
  margin-bottom: 20px;
  max-height: 300px;
  overflow-y: auto;
  padding-right: 5px;
}

/* Individual Key Card */
.key-card-item {
  background: linear-gradient(145deg, #2c2c2c, #222);
  border: 1px solid #3a3a3a;
  border-radius: 10px;
  padding: 15px;
  position: relative;
  transition: all 0.2s;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 80px;
}

.key-card-item:hover {
  transform: translateY(-2px);
  border-color: var(--primary-color);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.key-card-head {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.key-name {
  font-weight: bold;
  color: #fff;
  font-size: 14px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.key-val {
  font-family: monospace;
  color: #777;
  font-size: 11px;
  margin-bottom: 10px;
  display: block;
}

.key-actions {
  display: flex;
  justify-content: flex-end;
}

.btn-use-key {
  background: rgba(230, 126, 34, 0.1);
  color: var(--primary-color);
  border: 1px solid rgba(230, 126, 34, 0.3);
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-use-key:hover {
  background: var(--primary-color);
  color: #fff;
}

.key-icon {
  position: absolute;
  bottom: 10px;
  left: 10px;
  font-size: 24px;
  opacity: 0.1;
  pointer-events: none;
}

.key-tools {
  display: flex;
  gap: 5px;
  opacity: 0.6;
  transition: opacity 0.2s;
}

.key-card-item:hover .key-tools {
  opacity: 1;
}

.btn-icon-small {
  cursor: pointer;
  font-size: 14px;
  padding: 2px;
  border-radius: 3px;
}

.btn-icon-small:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: scale(1.1);
}

.btn-delete:hover {
  filter: brightness(1.2);
}

.btn-edit:hover {
  filter: brightness(1.2);
}

/* Create Row */
.new-key-row {
  display: flex;
  gap: 10px;
  border-top: 1px solid var(--border-color);
  padding-top: 15px;
  margin-top: auto;
}

.new-key-row input {
  background: var(--input-bg);
  border: 1px solid var(--border-color);
  color: #ccc;
  margin: 0;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 13px;
  flex-grow: 1;
}

.new-key-row input:focus {
  border-color: #555;
}

.action-btn {
  background: var(--border-color);
  color: #fff;
  border: 1px solid var(--btn-hover);
  padding: 0 15px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.2s;
}

.action-btn:hover {
  background: var(--btn-hover);
  border-color: #666;
}

/* Scrollbar para grid */
.keys-grid::-webkit-scrollbar {
  width: 6px;
}

.keys-grid::-webkit-scrollbar-thumb {
  background: var(--btn-hover);
  border-radius: 3px;
}



/* --- JACKETT INTEGRATION --- */
.input-label {
  display: block;
  font-size: 12px;
  color: #888;
  margin-bottom: 5px;
  margin-top: 10px;
}

.config-input {
  width: 100%;
  background: var(--input-bg);
  border: 1px solid var(--border-color);
  color: #ccc;
  padding: 8px;
  border-radius: 4px;
  box-sizing: border-box;
}

select.config-input option {
  background-color: var(--input-bg) !important;
  color: #eeeeee !important;
  padding: 5px;
}

/* Premium Custom Dropdown */
.custom-dropdown {
  position: relative;
  display: inline-block;
  margin-right: 12px;
  font-family: var(--font-ui);
}

.tracker-dropdown-btn {
  background: linear-gradient(145deg, var(--bg-card), #2a2a2a);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: var(--text-main);
  padding: 10px 20px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 0.95rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.tracker-dropdown-btn:hover {
  border-color: var(--primary-color);
  background: linear-gradient(145deg, #2a2a2a, var(--bg-card));
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4), 0 0 10px rgba(230, 126, 34, 0.2);
  /* Primary glow */
}

.tracker-dropdown-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.dropdown-content {
  position: absolute;
  top: calc(100% + 12px);
  left: 0;
  background-color: var(--bg-card);
  min-width: 260px;
  max-height: 340px;
  overflow-y: auto;
  border: 1px solid rgba(255, 255, 255, 0.2);
  /* Lighter border as requested */
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6);
  z-index: 1000;
  padding: 10px;
  border-radius: 14px;

  /* Animation */
  opacity: 0;
  transform: translateY(-10px) scale(0.98);
  visibility: hidden;
  transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
}

.dropdown-content:not(.hidden) {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
}

/* Custom Checkbox Item */
.dropdown-content label {
  color: var(--text-main);
  padding: 10px 12px;
  margin-bottom: 2px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: background 0.15s;
  font-size: 0.9rem;
  user-select: none;
}

.dropdown-content label:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.dropdown-content label:active {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Hidden native checkbox */
.dropdown-content input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid var(--text-muted);
  border-radius: 4px;
  display: grid;
  place-content: center;
  margin: 0;
  transition: all 0.2s;
  flex-shrink: 0;
}

.dropdown-content input[type="checkbox"]::before {
  content: "";
  width: 10px;
  height: 10px;
  transform: scale(0);
  transition: 0.15s transform ease-in-out;
  box-shadow: inset 1em 1em white;
  transform-origin: center;
  clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
  background-color: var(--bg-card);
  /* Color of checkmark */
}

.dropdown-content input[type="checkbox"]:checked {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
}

.dropdown-content input[type="checkbox"]:checked::before {
  transform: scale(1);
  background-color: white;
  /* Actual check tick color */
}

/* Scrollbar styling for dropdown */
.dropdown-content::-webkit-scrollbar {
  width: 6px;
}

.dropdown-content::-webkit-scrollbar-track {
  background: transparent;
}

.dropdown-content::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 10px;
}

.outline-btn {
  background: transparent;
  border: 1px solid #00ce7c;
  color: #00ce7c;
}

.outline-btn:hover {
  background: rgba(0, 206, 124, 0.1);
}

/* Search View */
.search-toolbar {
  padding: 20px;
  background: var(--bg-card);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  gap: 10px;
}

.search-input-large {
  flex-grow: 1;
  background: var(--bg-dark);
  border: 1px solid var(--btn-hover);
  color: #fff;
  padding: 12px;
  border-radius: 6px;
  font-size: 16px;
}

.loading-bar {
  background: #2980b9;
  color: #fff;
  text-align: center;
  padding: 5px;
  font-size: 12px;
  font-weight: bold;
}


/* Search View Table */
.j-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
  color: #ccc;
}

.j-table thead th {
  text-align: left;
  padding: 10px;
  background: var(--input-bg);
  border-bottom: 2px solid var(--border-color);
  color: #fff;
  font-weight: 600;
}

.j-table tbody tr {
  border-bottom: 1px solid #2a2a2a;
  transition: background 0.2s;
}

.j-table tbody tr:hover {
  background: var(--bg-header);
}

.j-table td {
  padding: 8px 10px;
  vertical-align: middle;
}

.j-col-date {
  color: #888;
  white-space: nowrap;
}

.j-col-tracker {
  color: #aaa;
}

.tracker-tag {
  background: var(--border-color);
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
}

.j-col-name {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.j-link-title {
  color: var(--color-info);
  text-decoration: none;
  font-weight: 500;
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
}

.j-link-title:hover {
  text-decoration: underline;
}

.badge-free {
  background: #27ae60;
  color: #fff;
  font-size: 10px;
  padding: 1px 4px;
  border-radius: 2px;
  margin-left: 6px;
  font-weight: bold;
  vertical-align: text-bottom;
}

.j-col-seeds {
  color: var(--color-success);
  font-weight: bold;
}

.j-col-cat {
  color: #888;
  font-size: 11px;
}

.j-btn-icon {
  background: transparent;
  border: 1px solid var(--primary-color);
  color: var(--primary-color);
  padding: 4px 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
}

.j-btn-icon:hover {
  background: var(--primary-color);
  color: white;
}



.j-row-sent-ready .j-link-title {
  color: var(--color-success) !important;
  /* Green */
}

.j-row-sent-downloading .j-link-title {
  color: var(--color-danger) !important;
  /* Red */
}

.j-btn-icon.sent {
  border-color: #7f8c8d;
  color: #7f8c8d;
  cursor: default;
}

.j-btn-icon.sent:hover {
  background: transparent;
  color: #7f8c8d;
}

.hidden {
  display: none !important;
}


/* TV List Styles */
.tv-list {
  list-style: none;
  padding: 0;
  margin-top: 15px;
  max-height: 150px;
  overflow-y: auto;
  border-top: 1px solid #eee;
}

.tv-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #f5f5f5;
  font-size: 0.9em;
}

.tv-item:last-child {
  border-bottom: none;
}

.tv-info {
  display: flex;
  flex-direction: column;
}

.tv-name {
  font-weight: 600;
  color: #fff;
  /* Brighter white */
  font-size: 1.1em;
  /* Larger */
}

.tv-ip {
  color: #bbb;
  /* Lighter gray */
  font-size: 0.95em;
}

.btn-remove-tv {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.1em;
  opacity: 0.6;
  transition: opacity 0.2s;
}

.btn-remove-tv:hover {
  opacity: 1;
}

/* Cast Button */
.btn-cast {
  background: none;
  border: 1px solid #9b59b6;
  color: #9b59b6;
  border-radius: 4px;
  cursor: pointer;
  padding: 2px 8px;
  font-size: 0.9em;
  margin-left: 8px;
  transition: all 0.2s;
}

.btn-cast:hover {
  background: #9b59b6;
  color: white;
}

/* Config Tabs */
.config-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  border-bottom: 2px solid #eee;
}

.config-tab-btn {
  background: none;
  border: none;
  padding: 10px 20px;
  font-size: 1em;
  font-weight: 500;
  color: #7f8c8d;
  cursor: pointer;
  border-bottom: 3px solid transparent;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
}

.config-tab-btn:hover {
  color: #2c3e50;
  background-color: #f8f9fa;
}

.config-tab-btn.active {
  color: var(--color-info);
  border-bottom-color: var(--color-info);
  font-weight: 600;
}

.cfg-tab-content {
  animation: fadeIn 0.3s ease;
}

.cfg-tab-content.hidden {
  display: none;
}

/* Specific layout for General Tab */
.config-split-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
}

@media (min-width: 600px) {
  .config-split-layout {
    grid-template-columns: 1fr 1fr;
    align-items: start;
  }
}

/* Adjust card margins inside tabs */
.config-card {
  margin-bottom: 0;
  height: 100%;
}

/* --- TV CARDS (New UI) --- */
.tv-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 15px;
  margin-bottom: 20px;
  margin-top: 15px;
  max-height: 300px;
  overflow-y: auto;
  padding-right: 5px;
}

.tv-card-item {
  background: linear-gradient(145deg, #2c3e50, #2c2c2c);
  border: 1px solid #3a3a3a;
  border-radius: 10px;
  padding: 15px;
  position: relative;
  transition: all 0.2s;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.tv-card-item:hover {
  transform: translateY(-2px);
  border-color: var(--color-info);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.tv-info {
  display: flex;
  flex-direction: column;
}

.tv-name-display {
  font-size: 16px;
  font-weight: bold;
  color: #fff;
  margin-bottom: 4px;
}

.tv-ip-display {
  font-family: monospace;
  font-size: 13px;
  color: #aaa;
}

.tv-icon-large {
  font-size: 24px;
  margin-right: 15px;
  opacity: 0.8;
}

.tv-actions {
  display: flex;
  gap: 10px;
}

/* Scrollbar for tv grid */
.tv-grid::-webkit-scrollbar {
  width: 6px;
}

.tv-grid::-webkit-scrollbar-thumb {
  background: #444;
  border-radius: 3px;
}

/* Botones de acción pequeños (Renderer) */
.btn-action-small {
  background: transparent;
  border: 1px solid var(--border-color);
  color: var(--text-main);
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 14px;
  margin-right: 5px;
  transition: all 0.2s;
}

.btn-action-small:hover {
  background: var(--btn-hover);
  border-color: var(--primary-color);
  color: var(--primary-color);
}

.btn-queue-file {
  /* Estilos específicos para queue si se activa */
}

/* Header TV Selector */
.header-select {
  background: var(--bg-card);
  color: var(--text-main);
  border: 1px solid var(--border-color);
  padding: 5px 10px;
  border-radius: 6px;
  margin-right: 5px;
  font-size: 14px;
}

.header-btn {
  background: var(--primary-color);
  color: white;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  margin-right: 10px;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 5px;
}

.header-btn:hover {
  background: var(--primary-hover);
}

/* File Checkboxes */
.file-checkbox {
  margin-right: 10px;
  transform: scale(1.2);
  cursor: pointer;
}

.file-row-main {
  display: flex;
  align-items: flex-start;
  /* Changed from default to allow checkbox alignment */
}

/* --- Link Row Wrapper (Simplified) --- */
.link-row-wrapper {
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 0;
  margin-right: 15px;
}

/* Override filename to work in wrapper */
.link-filename {
  min-width: 0;
  margin-right: 0;
}

/* --- Alignment Fixes --- */
.status-badge {
  width: 120px;
  /* Fixed width for Main Row alignment */
  min-width: 120px;
  text-align: center;
  justify-content: center;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
}

/* Revert Inner Row styles to auto/default or previous state if needed. 
   Removing .link-meta from here. */

/* --- Button Alignment Fixes --- */
.btn-action-small,
.btn-copy {
  /* Reverting forced width for inner buttons as user said they were fine. 
       If we need to keep them consistent, we will add them back separately, 
       but for now let's respect "content list used to be fine" */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* --- Cast Menu UI --- */
.cast-menu-container {
  position: relative;
  display: inline-block;
}

.header-btn-icon {
  background: transparent;
  border: 1px solid transparent;
  color: #ecf0f1;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  transition: all 0.2s;
}

.header-btn-icon:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.header-btn-icon.active {
  color: var(--color-success);
  /* Green when connected */
  text-shadow: 0 0 5px rgba(46, 204, 113, 0.5);
}

.cast-menu-list {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 5px;
  background-color: #2c2c2c;
  border: 1px solid #444;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  min-width: 180px;
  overflow: hidden;
  animation: fadeIn 0.1s ease-out;
}

.cast-menu-item {
  padding: 10px 15px;
  border-bottom: 1px solid #333;
  cursor: pointer;
  font-size: 14px;
  color: #ddd;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.cast-menu-item:last-child {
  border-bottom: none;
}

.cast-menu-item:hover {
  background-color: var(--primary-color);
  color: white;
}

.cast-menu-item.selected {
  background-color: rgba(52, 152, 219, 0.2);
  color: var(--primary-color);
  font-weight: bold;
}

.cast-menu-item.selected::after {
  content: '✔';
  font-size: 12px;
}

/* --- TV Config Form --- */
.tv-config-row {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
}

#tv-type-select {
  padding: 8px;
  border-radius: 4px;
  background-color: #333;
  color: white;
  border: 1px solid #444;
}

#tv-port-input {
  background-color: #333;
  border: 1px solid #444;
  color: white;
  padding: 8px;
  border-radius: 4px;
}

/* --- Updated Header Layout --- */
.header-btn-icon {
  background: transparent;
  border: 1px solid transparent;
  color: #ecf0f1;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 8px 18px !important;
  /* Adjusted: slightly less than 25px */
  border-radius: 6px;
  transition: all 0.2s;

  /* Layout Fixes */
  display: flex !important;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 14px;
  /* Increased gap */
  white-space: nowrap;
  width: auto;
  min-width: fit-content;
}

.tv-label {
  font-size: 0.95rem;
  font-weight: 500;
  color: inherit;
  line-height: 1;
  /* Prevent vertical misalignment */
}

/* --- TOAST NOTIFICATIONS --- */
#toast-container {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none;
  /* Let clicks pass through container */
}

.toast {
  background: rgba(30, 30, 30, 0.95);
  backdrop-filter: blur(10px);
  color: #fff;
  padding: 12px 20px;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.95rem;
  opacity: 0;
  transform: translateY(-20px);
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  pointer-events: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
  min-width: 300px;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
}

.toast-success {
  border-left: 4px solid #2ecc71;
}

.toast-error {
  border-left: 4px solid #e74c3c;
}

.toast-warning {
  border-left: 4px solid #f1c40f;
}

.toast-info {
  border-left: 4px solid #3498db;
}

.toast-icon {
  font-size: 1.2em;
}